- fn: 'test-procedure-1.1'
  args:
    - int@py
    - int@py
  return:
    - int@py
    - int@py
  doc: 'this is test procedure 1.1'
  statements:
    - name: joint-1
      call: int@py:add@py
      in:
        - $0
        - $1
    - name: joint-2
      call: int@py:sub@py
      in:
        - $0
        - $1
  out:
    - joint-1[0]
    - joint-2[0]

- fn: 'test-procedure-1.2'
  args:
    - float@py
    - float@py
  return:
    - float@py
    - float@py
  doc: 'this is test procedure 1.2'
  statements:
    - name: joint-1
      call: float@py:add@py
      in:
        - $0
        - $1
    - name: joint-2
      call: float@py:mul@py
      in:
        - $0
        - $1
    - name: joint-3
      call: float@py:mul@py
      in:
        - joint-1[0]
        - joint-2[0]
    - name: joint-4
      call: float@py:add@py
      in:
        - joint-1[0]
        - joint-2[0]
  out:
    - joint-3[0]
    - joint-4[0]


- fn: 'test-procedure-1.3'
  args:
    - float@py
    - float@py
    - float@py
  return:
    - float@py
  doc: '(x + y) * z'
  statements:
    - name: joint-1
      call: float@py:add@py
      in:
        - $0
        - $1
    - name: joint-2
      call: float@py:mul@py
      in:
        - joint-1[0]
        - $2
  out:
    - joint-2[0]

- fn: 'test-procedure-1.4'
  args:
    - float@py
    - float@py
    - float@py
  return:
    - float@py
  doc: 'x + y * z'
  statements:
    - name: joint-1
      call: float@py:mul@py
      in:
        - $1
        - $2
    - name: joint-2
      call: float@py:add@py
      in:
        - $0
        - joint-1[0]
  out:
    - joint-2[0]

- fn: 'test-procedure-1.5'
  args:
    - bool@py
    - float@py
    - float@py
  return:
    - float@py
  doc: 'z ? x + y : x - y'
  statements:
    - name: x-plus-y
      call: float@py:add@py
      in:
        - $1
        - $2
    - name: x-minus-y
      call: float@py:sub@py
      in:
        - $1
        - $2
    - name: plus-or-minus
      call: float@py:converge2@py
      in:
        - $0
        - x-plus-y[0]
        - x-minus-y[0]
  out:
    - plus-or-minus[0]


- fn: 'test-procedure-1.6'
  args:
    - bool@py
    - float@py
    - float@py
  return:
    - float@py
  doc: 'z ? x + y : x - y (optimized)'
  statements:
    - name: select-x
      call: float@py:diverge2@py
      in:
        - $0
        - $1
    - name: x-plus-y
      call: float@py:add@py
      in:
        - select-x[0]
        - $2
    - name: x-minus-y
      call: float@py:sub@py
      in:
        - select-x[1]
        - $2
    - name: plus-or-minus
      call: float@py:converge2@py
      in:
        - $0
        - x-plus-y[0]
        - x-minus-y[0]
  out:
    - plus-or-minus[0]